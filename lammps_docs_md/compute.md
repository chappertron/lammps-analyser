# compute command

## Syntax

``` LAMMPS
compute ID group-ID style args
```

-   ID = user-assigned name for the computation
-   group-ID = ID of the group of atoms to perform the computation on
-   style = one of a list of possible style names (see below)
-   args = arguments used by a particular style

## Examples

``` LAMMPS
compute 1 all temp
compute newtemp flow temp/partial 1 1 0
compute 3 all ke/atom
```

## Description

Define a computation that will be performed on a group of atoms.
Quantities calculated by a compute are instantaneous values, meaning
they are calculated from information about atoms on the current timestep
or iteration, though a compute may internally store some information
about a previous state of the system. Defining a compute does not
perform a computation. Instead computes are invoked by other LAMMPS
commands as needed (e.g., to calculate a temperature needed for a
thermostat fix or to generate thermodynamic or dump file output). See
the [Howto output](Howto_output) page for a summary of various LAMMPS
output options, many of which involve computes.

The ID of a compute can only contain alphanumeric characters and
underscores.

------------------------------------------------------------------------

Computes calculate one or more of four styles of quantities: global,
per-atom, local, or per-atom. A global quantity is one or more
system-wide values, e.g. the temperature of the system. A per-atom
quantity is one or more values per atom, e.g. the kinetic energy of each
atom. Per-atom values are set to 0.0 for atoms not in the specified
compute group. Local quantities are calculated by each processor based
on the atoms it owns, but there may be zero or more per atom, e.g. a
list of bond distances. Per-grid quantities are calculated on a regular
2d or 3d grid which overlays a 2d or 3d simulation domain. The grid
points and the data they store are distributed across processors; each
processor owns the grid points which fall within its subdomain.

Computes that produce per-atom quantities have the word \"atom\" at the
end of their style, e.g. *ke/atom*. Computes that produce local
quantities have the word \"local\" at the end of their style, e.g.
*bond/local*. Computes that produce per-grid quantities have the word
\"grid\" at the end of their style, e.g. *property/grid*. Styles with
neither \"atom\" or \"local\" or \"grid\" at the end of their style name
produce global quantities.

Note that a single compute typically produces either global or per-atom
or local or per-grid values. It does not compute both global and
per-atom values. It can produce local values or per-grid values in
tandem with global or per-atom quantities. The compute doc page will
explain the details.

Global, per-atom, local, and per-grid quantities come in three kinds: a
single scalar value, a vector of values, or a 2d array of values. The
doc page for each compute describes the style and kind of values it
produces, e.g. a per-atom vector. Some computes produce more than one
kind of a single style, e.g. a global scalar and a global vector.

When a compute quantity is accessed, as in many of the output commands
discussed below, it can be referenced via the following bracket
notation, where ID is the ID of the compute:

  ---------------- --------------------------------------------
  c_ID             entire scalar, vector, or array

  c_ID\[I\]        one element of vector, one column of array

  c_ID\[I\]\[J\]   one element of array
  ---------------- --------------------------------------------

In other words, using one bracket reduces the dimension of the quantity
once (vector $\to$ scalar, array $\to$ vector). Using two brackets
reduces the dimension twice (array $\to$ scalar). Thus a command that
uses scalar compute values as input can also process elements of a
vector or array.

Note that commands and [variables](variable) which use compute
quantities typically do not allow for all kinds (e.g., a command may
require a vector of values, not a scalar). This means there is no
ambiguity about referring to a compute quantity as c_ID even if it
produces, for example, both a scalar and vector. The doc pages for
various commands explain the details.

------------------------------------------------------------------------

In LAMMPS, the values generated by a compute can be used in several
ways:

-   The results of computes that calculate a global temperature or
    pressure can be used by fixes that do thermostatting or barostatting
    or when atom velocities are created.
-   Global values can be output via the [thermo_style
    custom](thermo_style) or [fix ave/time](fix_ave_time) command. Or
    the values can be referenced in a [variable equal](variable) or
    [variable atom](variable) command.
-   Per-atom values can be output via the [dump custom](dump) command.
    Or they can be time-averaged via the [fix ave/atom](fix_ave_atom)
    command or reduced by the [compute reduce](compute_reduce) command.
    Or the per-atom values can be referenced in an [atom-style
    variable](variable).
-   Local values can be reduced by the [compute reduce](compute_reduce)
    command, or histogrammed by the [fix ave/histo](fix_ave_histo)
    command, or output by the [dump local](dump) command.

The results of computes that calculate global quantities can be either
\"intensive\" or \"extensive\" values. Intensive means the value is
independent of the number of atoms in the simulation (e.g.,
temperature). Extensive means the value scales with the number of atoms
in the simulation (e.g., total rotational kinetic energy).
[Thermodynamic output](thermo_style) will normalize extensive values by
the number of atoms in the system, depending on the \"thermo_modify
norm\" setting. It will not normalize intensive values. If a compute
value is accessed in another way (e.g., by a [variable](variable)), you
may want to know whether it is an intensive or extensive value. See the
page for individual computes for further info.

------------------------------------------------------------------------

LAMMPS creates its own computes internally for thermodynamic output.
Three computes are always created, named \"thermo_temp\",
\"thermo_press\", and \"thermo_pe\", as if these commands had been
invoked in the input script:

``` LAMMPS
compute thermo_temp all temp
compute thermo_press all pressure thermo_temp
compute thermo_pe all pe
```

Additional computes for other quantities are created if the thermo style
requires it. See the documentation for the [thermo_style](thermo_style)
command.

Fixes that calculate temperature or pressure, i.e. for thermostatting or
barostatting, may also create computes. These are discussed in the
documentation for specific [fix](fix) commands.

In all these cases, the default computes LAMMPS creates can be replaced
by computes defined by the user in the input script, as described by the
[thermo_modify](thermo_modify) and [fix modify](fix_modify) commands.

Properties of either a default or user-defined compute can be modified
via the [compute_modify](compute_modify) command.

Computes can be deleted with the [uncompute](uncompute) command.

Code for new computes can be added to LAMMPS; see the [Modify](Modify)
page for details. The results of their calculations accessed in the
various ways described above.

------------------------------------------------------------------------

Each compute style has its own page which describes its arguments and
what it does. Here is an alphabetic list of compute styles available in
LAMMPS. They are also listed in more compact form on the [Commands
compute](Commands_compute) doc page.

There are also additional accelerated compute styles included in the
LAMMPS distribution for faster performance on CPUs, GPUs, and KNLs. The
individual style names on the [Commands compute](Commands_compute) page
are followed by one or more of (g,i,k,o,t) to indicate which accelerated
styles exist.

-   [ackland/atom](compute_ackland_atom) - determines the local lattice
    structure based on the Ackland formulation
-   [adf](compute_adf) - angular distribution function of triples of
    atoms
-   [aggregate/atom](compute_cluster_atom) - aggregate ID for each atom
-   [angle](compute_angle) - energy of each angle sub-style
-   [angle/local](compute_angle_local) - theta and energy of each angle
-   [angmom/chunk](compute_angmom_chunk) - angular momentum for each
    chunk
-   [ave/sphere/atom](compute_ave_sphere_atom) - compute local density
    and temperature around each atom
-   [basal/atom](compute_basal_atom) - calculates the hexagonal
    close-packed \"c\" lattice vector of each atom
-   [body/local](compute_body_local) - attributes of body sub-particles
-   [bond](compute_bond) - energy of each bond sub-style
-   [bond/local](compute_bond_local) - distance and energy of each bond
-   [born/matrix](compute_born_matrix) - second derivative or potential
    with respect to strain
-   [centro/atom](compute_centro_atom) - centro-symmetry parameter for
    each atom
-   [centroid/stress/atom](compute_stress_atom) - centroid based stress
    tensor for each atom
-   [chunk/atom](compute_chunk_atom) - assign chunk IDs to each atom
-   [chunk/spread/atom](compute_chunk_spread_atom) - spreads chunk
    values to each atom in chunk
-   [cluster/atom](compute_cluster_atom) - cluster ID for each atom
-   [cna/atom](compute_cna_atom) - common neighbor analysis (CNA) for
    each atom
-   [cnp/atom](compute_cnp_atom) - common neighborhood parameter (CNP)
    for each atom
-   [com](compute_com) - center of mass of group of atoms
-   [com/chunk](compute_com_chunk) - center of mass for each chunk
-   [contact/atom](compute_contact_atom) - contact count for each
    spherical particle
-   [coord/atom](compute_coord_atom) - coordination number for each atom
-   [count/type](compute_count_type) - count of atoms or bonds by type
-   [damage/atom](compute_damage_atom) - Peridynamic damage for each
    atom
-   [dihedral](compute_dihedral) - energy of each dihedral sub-style
-   [dihedral/local](compute_dihedral_local) - angle of each dihedral
-   [dilatation/atom](compute_dilatation_atom) - Peridynamic dilatation
    for each atom
-   [dipole](compute_dipole) - dipole vector and total dipole
-   [dipole/chunk](compute_dipole_chunk) - dipole vector and total
    dipole for each chunk
-   [dipole/tip4p](compute_dipole) - dipole vector and total dipole with
    TIP4P pair style
-   [dipole/tip4p/chunk](compute_dipole_chunk) - dipole vector and total
    dipole for each chunk with TIP4P pair style
-   [displace/atom](compute_displace_atom) - displacement of each atom
-   [dpd](compute_dpd) - total values of internal conductive energy,
    internal mechanical energy, chemical energy, and harmonic average of
    internal temperature
-   [dpd/atom](compute_dpd_atom) - per-particle values of internal
    conductive energy, internal mechanical energy, chemical energy, and
    internal temperature
-   [edpd/temp/atom](compute_edpd_temp_atom) - per-atom temperature for
    each eDPD particle in a group
-   [efield/atom](compute_efield_atom) - electric field at each atom
-   [efield/wolf/atom](compute_efield_wolf_atom) - electric field at
    each atom
-   [entropy/atom](compute_entropy_atom) - pair entropy fingerprint of
    each atom
-   [erotate/asphere](compute_erotate_asphere) - rotational energy of
    aspherical particles
-   [erotate/rigid](compute_erotate_rigid) - rotational energy of rigid
    bodies
-   [erotate/sphere](compute_erotate_sphere) - rotational energy of
    spherical particles
-   [erotate/sphere/atom](compute_erotate_sphere_atom) - rotational
    energy for each spherical particle
-   [event/displace](compute_event_displace) - detect event on atom
    displacement
-   [fabric](compute_fabric) - calculates fabric tensors from pair
    interactions
-   [fep](compute_fep) - compute free energies for alchemical
    transformation from perturbation theory
-   [fep/ta](compute_fep_ta) - compute free energies for a test area
    perturbation
-   [force/tally](compute_tally) - force between two groups of atoms via
    the tally callback mechanism
-   [fragment/atom](compute_cluster_atom) - fragment ID for each atom
-   [global/atom](compute_global_atom) - assign global values to each
    atom from arrays of global values
-   [group/group](compute_group_group) - energy/force between two groups
    of atoms
-   [gyration](compute_gyration) - radius of gyration of group of atoms
-   [gyration/chunk](compute_gyration_chunk) - radius of gyration for
    each chunk
-   [gyration/shape](compute_gyration_shape) - shape parameters from
    gyration tensor
-   [gyration/shape/chunk](compute_gyration_shape_chunk) - shape
    parameters from gyration tensor for each chunk
-   [heat/flux](compute_heat_flux) - heat flux through a group of atoms
-   [heat/flux/tally](compute_tally) - heat flux through a group of
    atoms via the tally callback mechanism
-   [heat/flux/virial/tally](compute_tally) - virial heat flux between
    two groups via the tally callback mechanism
-   [hexorder/atom](compute_hexorder_atom) - bond orientational order
    parameter q6
-   [hma](compute_hma) - harmonically mapped averaging for atomic
    crystals
-   [improper](compute_improper) - energy of each improper sub-style
-   [improper/local](compute_improper_local) - angle of each improper
-   [inertia/chunk](compute_inertia_chunk) - inertia tensor for each
    chunk
-   [ke](compute_ke) - translational kinetic energy
-   [ke/atom](compute_ke_atom) - kinetic energy for each atom
-   [ke/atom/eff](compute_ke_atom_eff) - per-atom translational and
    radial kinetic energy in the electron force field model
-   [ke/eff](compute_ke_eff) - kinetic energy of a group of nuclei and
    electrons in the electron force field model
-   [ke/rigid](compute_ke_rigid) - translational kinetic energy of rigid
    bodies
-   [mliap](compute_mliap) - gradients of energy and forces with respect
    to model parameters and related quantities for training machine
    learning interatomic potentials
-   [momentum](compute_momentum) - translational momentum
-   [msd](compute_msd) - mean-squared displacement of group of atoms
-   [msd/chunk](compute_msd_chunk) - mean-squared displacement for each
    chunk
-   [msd/nongauss](compute_msd_nongauss) - MSD and non-Gaussian
    parameter of group of atoms
-   [nbond/atom](compute_nbond_atom) - calculates number of bonds per
    atom
-   [omega/chunk](compute_omega_chunk) - angular velocity for each chunk
-   [orientorder/atom](compute_orientorder_atom) - Steinhardt bond
    orientational order parameters Ql
-   [pair](compute_pair) - values computed by a pair style
-   [pair/local](compute_pair_local) - distance/energy/force of each
    pairwise interaction
-   [pe](compute_pe) - potential energy
-   [pe/atom](compute_pe_atom) - potential energy for each atom
-   [pe/mol/tally](compute_tally) - potential energy between two groups
    of atoms separated into intermolecular and intramolecular components
    via the tally callback mechanism
-   [pe/tally](compute_tally) - potential energy between two groups of
    atoms via the tally callback mechanism
-   [plasticity/atom](compute_plasticity_atom) - Peridynamic plasticity
    for each atom
-   [pressure](compute_pressure) - total pressure and pressure tensor
-   [pressure/alchemy](compute_pressure_alchemy) - mixed system total
    pressure and pressure tensor for [fix alchemy](fix_alchemy) runs
-   [pressure/uef](compute_pressure_uef) - pressure tensor in the
    reference frame of an applied flow field
-   [property/atom](compute_property_atom) - convert atom attributes to
    per-atom vectors/arrays
-   [property/chunk](compute_property_chunk) - extract various per-chunk
    attributes
-   [property/grid](compute_property_grid) - convert per-grid attributes
    to per-grid vectors/arrays
-   [property/local](compute_property_local) - convert local attributes
    to local vectors/arrays
-   [ptm/atom](compute_ptm_atom) - determines the local lattice
    structure based on the Polyhedral Template Matching method
-   [rdf](compute_rdf) - radial distribution function $g(r)$ histogram
    of group of atoms
-   [reduce](compute_reduce) - combine per-atom quantities into a single
    global value
-   [reduce/chunk](compute_reduce_chunk) - reduce per-atom quantities
    within each chunk
-   [reduce/region](compute_reduce) - same as compute reduce, within a
    region
-   [rigid/local](compute_rigid_local) - extract rigid body attributes
-   [saed](compute_saed) - electron diffraction intensity on a mesh of
    reciprocal lattice nodes
-   [slice](compute_slice) - extract values from global vector or array
-   [smd/contact/radius](compute_smd_contact_radius) - contact radius
    for Smooth Mach Dynamics
-   [smd/damage](compute_smd_damage) - damage status of SPH particles in
    Smooth Mach Dynamics
-   [smd/hourglass/error](compute_smd_hourglass_error) - error
    associated with approximated relative separation in Smooth Mach
    Dynamics
-   [smd/internal/energy](compute_smd_internal_energy) - per-particle
    enthalpy in Smooth Mach Dynamics
-   [smd/plastic/strain](compute_smd_plastic_strain) - equivalent
    plastic strain per particle in Smooth Mach Dynamics
-   [smd/plastic/strain/rate](compute_smd_plastic_strain_rate) - time
    rate of the equivalent plastic strain in Smooth Mach Dynamics
-   [smd/rho](compute_smd_rho) - per-particle mass density in Smooth
    Mach Dynamics
-   [smd/tlsph/defgrad](compute_smd_tlsph_defgrad) - deformation
    gradient in Smooth Mach Dynamics
-   [smd/tlsph/dt](compute_smd_tlsph_dt) - CFL-stable time increment per
    particle in Smooth Mach Dynamics
-   [smd/tlsph/num/neighs](compute_smd_tlsph_num_neighs) - number of
    particles inside the smoothing kernel radius for Smooth Mach
    Dynamics
-   [smd/tlsph/shape](compute_smd_tlsph_shape) - current shape of the
    volume of a particle for Smooth Mach Dynamics
-   [smd/tlsph/strain](compute_smd_tlsph_strain) - Green\--Lagrange
    strain tensor for Smooth Mach Dynamics
-   [smd/tlsph/strain/rate](compute_smd_tlsph_strain_rate) - rate of
    strain for Smooth Mach Dynamics
-   [smd/tlsph/stress](compute_smd_tlsph_stress) - per-particle Cauchy
    stress tensor for SPH particles
-   [smd/triangle/vertices](compute_smd_triangle_vertices) - coordinates
    of vertices corresponding to the triangle elements of a mesh for
    Smooth Mach Dynamics
-   [smd/ulsph/effm](compute_smd_ulsph_effm) - per-particle effective
    shear modulus
-   [smd/ulsph/num/neighs](compute_smd_ulsph_num_neighs) - number of
    neighbor particles inside the smoothing kernel radius for Smooth
    Mach Dynamics
-   [smd/ulsph/strain](compute_smd_ulsph_strain) - logarithmic strain
    tensor for Smooth Mach Dynamics
-   [smd/ulsph/strain/rate](compute_smd_ulsph_strain_rate) - logarithmic
    strain rate for Smooth Mach Dynamics
-   [smd/ulsph/stress](compute_smd_ulsph_stress) - per-particle Cauchy
    stress tensor and von Mises equivalent stress in Smooth Mach
    Dynamics
-   [smd/vol](compute_smd_vol) - per-particle volumes and their sum in
    Smooth Mach Dynamics
-   [snap](compute_sna_atom) - gradients of SNAP energy and forces with
    respect to linear coefficients and related quantities for fitting
    SNAP potentials
-   [sna/atom](compute_sna_atom) - bispectrum components for each atom
-   [sna/grid](compute_sna_atom) - global array of bispectrum components
    on a regular grid
-   [sna/grid/local](compute_sna_atom) - local array of bispectrum
    components on a regular grid
-   [snad/atom](compute_sna_atom) - derivative of bispectrum components
    for each atom
-   [snav/atom](compute_sna_atom) - virial contribution from bispectrum
    components for each atom
-   [sph/e/atom](compute_sph_e_atom) - per-atom internal energy of
    Smooth-Particle Hydrodynamics atoms
-   [sph/rho/atom](compute_sph_rho_atom) - per-atom density of
    Smooth-Particle Hydrodynamics atoms
-   [sph/t/atom](compute_sph_t_atom) - per-atom internal temperature of
    Smooth-Particle Hydrodynamics atoms
-   [spin](compute_spin) - magnetic quantities for a system of atoms
    having spins
-   [stress/atom](compute_stress_atom) - stress tensor for each atom
-   [stress/cartesian](compute_stress_cartesian) - stress tensor in
    cartesian coordinates
-   [stress/cylinder](compute_stress_curvilinear) - stress tensor in
    cylindrical coordinates
-   [stress/mop](compute_stress_mop) - normal components of the local
    stress tensor using the method of planes
-   [stress/mop/profile](compute_stress_mop) - profile of the normal
    components of the local stress tensor using the method of planes
-   [stress/spherical](compute_stress_curvilinear) - stress tensor in
    spherical coordinates
-   [stress/tally](compute_tally) - stress between two groups of atoms
    via the tally callback mechanism
-   [tdpd/cc/atom](compute_tdpd_cc_atom) - per-atom chemical
    concentration of a specified species for each tDPD particle
-   [temp](compute_temp) - temperature of group of atoms
-   [temp/asphere](compute_temp_asphere) - temperature of aspherical
    particles
-   [temp/body](compute_temp_body) - temperature of body particles
-   [temp/chunk](compute_temp_chunk) - temperature of each chunk
-   [temp/com](compute_temp_com) - temperature after subtracting
    center-of-mass velocity
-   [temp/cs](compute_temp_cs) - temperature based on the center-of-mass
    velocity of atom pairs that are bonded to each other
-   [temp/deform](compute_temp_deform) - temperature excluding box
    deformation velocity
-   [temp/deform/eff](compute_temp_deform_eff) - temperature excluding
    box deformation velocity in the electron force field model
-   [temp/drude](compute_temp_drude) - temperature of Core\--Drude pairs
-   [temp/eff](compute_temp_eff) - temperature of a group of nuclei and
    electrons in the electron force field model
-   [temp/partial](compute_temp_partial) - temperature excluding one or
    more dimensions of velocity
-   [temp/profile](compute_temp_profile) - temperature excluding a
    binned velocity profile
-   [temp/ramp](compute_temp_ramp) - temperature excluding ramped
    velocity component
-   [temp/region](compute_temp_region) - temperature of a region of
    atoms
-   [temp/region/eff](compute_temp_region_eff) - temperature of a region
    of nuclei and electrons in the electron force field model
-   [temp/rotate](compute_temp_rotate) - temperature of a group of atoms
    after subtracting out their center-of-mass and angular velocities
-   [temp/sphere](compute_temp_sphere) - temperature of spherical
    particles
-   [temp/uef](compute_temp_uef) - kinetic energy tensor in the
    reference frame of an applied flow field
-   [ti](compute_ti) - thermodynamic integration free energy values
-   [torque/chunk](compute_torque_chunk) - torque applied on each chunk
-   [vacf](compute_vacf) - velocity auto-correlation function of group
    of atoms
-   [vcm/chunk](compute_vcm_chunk) - velocity of center-of-mass for each
    chunk
-   [viscosity/cos](compute_viscosity_cos) - velocity profile under
    cosine-shaped acceleration
-   [voronoi/atom](compute_voronoi_atom) - Voronoi volume and neighbors
    for each atom
-   [xrd](compute_xrd) - X-ray diffraction intensity on a mesh of
    reciprocal lattice nodes

## Restrictions

> none

## Related commands

[uncompute](uncompute), [compute_modify](compute_modify), [fix
ave/atom](fix_ave_atom), [fix ave/time](fix_ave_time), [fix
ave/histo](fix_ave_histo)

## Default

none
